from bs4 import BeautifulSoup
from selenium import webdriver
from selenium.webdriver.chrome.options import Options



##------------------------Build The HTML Page --------------------------------- ##


chrome_options = Options()
chrome_options.add_argument('--headless')
chrome_options.add_argument('--no-sandbox')
chrome_options.add_argument('--disable-dev-shm-usage')

driver = webdriver.Chrome("/usr/lib/chromium-browser/chromedriver",chrome_options=chrome_options)

driver.get('https://linux.huntingmalware.com/analysis/')
res = driver.execute_script("return document.documentElement.outerHTML")

driver.quit()

#print (res)
#print ("+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++")

soup = BeautifulSoup(res, 'lxml')

#print (soup)
##------------------------Now, The Magic------------------ ##


table = soup.find('table', {'class': 'table table-striped table-responsive'})
#print (table)
#print ("+++++++++++++++++++++++++++++++++++++++++++++++")

table= soup.find("tbody")
#print (table)

#print ("+++++++++++++++++++++++++++++++++++++++++++++++")

tr_list = soup.find_all("tr")
#print (tr_list)

#print ("+++++++++++++++++++++++++++++++++++++++++++++++")
td_list=[]
for row in table.find_all("tr")[0:]:
        #print (row)
        td_list.append(row.find_all("td"))
        #print (td_list)
        #print ("hash: ",td_list[2].text)
        #print ("++++")

count = len(td_list)
print ("Samples Count: ", count)
#print (td_list)


for td in range(0, count):
        print ("hash:", td_list[td][2].text, "++" ,"date:", td_list[td][1].text, "++" , td_list[td][5].text)

